# Simple test Dockerfile
FROM nginx:alpine

# Copy test files
COPY apps/web/public/ /usr/share/nginx/html/

# Create health check file
RUN echo "healthy" > /usr/share/nginx/html/health.txt

# Copy nginx configuration template
COPY apps/web/nginx.conf /etc/nginx/templates/default.conf.template

# Railway will set PORT environment variable
ENV PORT=80

# Start nginx with envsubst for PORT variable
CMD ["nginx", "-g", "daemon off;"]